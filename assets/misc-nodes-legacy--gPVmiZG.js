!function(){function e(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);n&&(l=l.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,l)}return t}function n(n){for(var l=1;l<arguments.length;l++){var a=null!=arguments[l]?arguments[l]:{};l%2?e(Object(a),!0).forEach((function(e){t(n,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(a)):e(Object(a)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(a,e))}))}return n}function t(e,n,t){return(n=function(e){var n=function(e,n){if("object"!=typeof e||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var l=t.call(e,n||"default");if("object"!=typeof l)return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===n?String:Number)(e)}(e,"string");return"symbol"==typeof n?n:n+""}(n))in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}System.register(["./index-legacy-Ds5Akh9B.js","./chakra-legacy-RDLacvTL.js","./react-legacy-CczY7eHI.js","./master-manager-legacy-CIqbnhmU.js"],(function(e,t){"use strict";var l,a,o,i,r,s,c,d,m,h,u,x,p,f,g,y,j,b,w,v,N,C,P,S,B,_,k,z,L,M;return{setters:[e=>{l=e.aV,a=e.C,o=e.M,i=e.aW,r=e.aE,s=e.i,c=e.aX,d=e.c,m=e.d,h=e.V,u=e.W,x=e.P,p=e.R,f=e.D,g=e.am},e=>{y=e.j,j=e.h,b=e.aM,w=e.a2,v=e.t},e=>{N=e.b,C=e.u},e=>{P=e.L,S=e.o,B=e.t,_=e.p,k=e.q,z=e.r,L=e.M,M=e.v}],execute:function(){const t={component:e=>{const{id:n,x:t,y:l,handlePointerDown:a,handlePointerMove:o,handlePointerUp:i}=e,r=N.useCallback((e=>a(n,e)),[n,a]),s=N.useCallback((e=>o(n,e)),[n,o]),c=N.useCallback((e=>i(n,e)),[n,i]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})rotate(45)`,onPointerDown:r,onPointerMove:s,onPointerUp:c,style:{cursor:"move"},className:"removeMe",children:[y.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),y.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),y.jsx("circle",{id:`virtual_circle_${n}`,r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[y.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),y.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),y.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),defaultAttrs:{},attrsComponent:()=>y.jsx(l,{fields:[]}),metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},A={num:1,color:[a.Shanghai,"sh1","#E4002B",o.white]},$=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:A).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:A;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.ShmetroNumLineBadge,defaultTheme:A.color})}],T={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=A.num,color:c=A.color}=null!=a?a:A,[d,m]=s>=10?[22.67,10.75]:[21,10],h=N.useCallback((e=>o(n,e)),[n,o]),u=N.useCallback((e=>i(n,e)),[n,i]),x=N.useCallback((e=>r(n,e)),[n,r]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],width:d,height:"22.67"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:m,y:"19",fill:c[3],fontSize:"21.33",letterSpacing:"-1.75",children:s}),y.jsx("text",{className:"rmp-name__zh",x:d+2,y:"12",fontSize:"14.67",children:"号线"}),y.jsxs("text",{className:"rmp-name__en",x:d+4,y:"21.5",fontSize:"8",children:["Line ",s]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),y.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),y.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),y.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),defaultAttrs:A,attrsComponent:()=>y.jsx(l,{fields:$}),metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},U={names:["浦江线","Pujiang Line"],color:[a.Shanghai,"pjl","#B5B5B6",o.white]},D={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=U.names,color:c=U.color}=null!=a?a:U,d=N.useRef(null),[m,h]=N.useState({width:12});N.useEffect((()=>h(d.current.getBBox())),[...s,h,d]);const u=N.useCallback((e=>o(n,e)),[n,o]),x=N.useCallback((e=>i(n,e)),[n,i]),p=N.useCallback((e=>r(n,e)),[n,r]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:m.width+7,height:"21"}),y.jsxs("g",{ref:d,children:[y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"3",fontSize:"10",fill:c[3],letterSpacing:"-0.25",children:s[0]}),y.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"14",fontSize:"5",fill:c[3],letterSpacing:"-0.25",children:s[1]})]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),y.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),y.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),defaultAttrs:U,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.ShmetroTextLineBadge,defaultTheme:U.color})}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},W={names:["1号线","Line 1"],color:[a.Guangzhou,"gz1","#F3D03E",o.black],tram:!1,span:!0},E={component:e=>{var n,t;const{id:l,x:a,y:o,attrs:i,handlePointerDown:r,handlePointerMove:s,handlePointerUp:c}=e,{names:d=W.names,color:m=W.color,tram:h=W.tram,span:u=W.span}=null!=i?i:W,x=N.useCallback((e=>r(l,e)),[l,r]),p=N.useCallback((e=>s(l,e)),[l,s]),f=N.useCallback((e=>c(l,e)),[l,c]);return y.jsx("g",{id:l,transform:`translate(${a}, ${o})scale(${h?.5:1})`,onPointerDown:x,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:y.jsx(P,{zhName:null!==(n=d.at(0))&&void 0!==n?n:"",enName:null!==(t=d.at(1))&&void 0!==t?t:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:m[3],backgroundColour:m[2],spanDigits:u})})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),y.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),y.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),y.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),defaultAttrs:W,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"},{type:"switch",label:a("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:e=>{t.tram=e,l(n,t)},minW:"full"},{type:"switch",label:a("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:e=>{t.span=e,l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.GzmtrLineBadge,defaultTheme:W.color})}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},R=11.84375,O={num:1,color:[a.Beijing,"bj1","#c23a30",o.white]},q=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:O).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:O;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.BjsubwayNumLineBadge,defaultTheme:O.color})}],F={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,{num:c=O.num,color:d=O.color}=null!=a?a:O,m=N.useCallback((e=>i(n,e)),[n,i]),h=N.useCallback((e=>r(n,e)),[n,r]),u=N.useCallback((e=>s(n,e)),[n,s]),x=d[3]===o.black?"#003670":o.white;return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[y.jsx("rect",{fill:d[2],x:"0",width:32.84375,height:"16",rx:"2"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:7.921875,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1.5",children:c}),y.jsx("text",{className:"rmp-name__zh",x:R+(c>9?5.5:3),y:"8.5",fontSize:"7",fill:x,children:"号线"}),y.jsxs("text",{className:"rmp-name__en",x:R+(c>9?6:4.5),y:"13.5",fontSize:"4",fill:x,children:["Line ",c]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),y.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),y.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),y.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),defaultAttrs:O,attrsComponent:()=>y.jsx(l,{fields:q}),metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},I={names:["八通线","Batong Line"],color:[a.Beijing,"bj1","#c23a30",o.white]},Q=[{type:"input",label:"panel.details.nodes.common.nameZh",value:e=>(null!=e?e:I).names[0],onChange:(e,n)=>{const t=null!=n?n:I;return t.names[0]=e.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:e=>(null!=e?e:I).names[1],onChange:(e,n)=>{const t=null!=n?n:I;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.BjsubwayTextLineBadge,defaultTheme:I.color})}],V={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:i,handlePointerMove:r,handlePointerUp:s}=e,{names:c=I.names,color:d=I.color}=null!=a?a:I,m=N.useRef(null),[h,u]=N.useState({width:12});N.useEffect((()=>u(m.current.getBBox())),[...c,u,m]);const x=N.useCallback((e=>i(n,e)),[n,i]),p=N.useCallback((e=>r(n,e)),[n,r]),f=N.useCallback((e=>s(n,e)),[n,s]),g=Math.max(28.84375,h.width),j=d[3]===o.black?"#003670":o.white;return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:x,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[y.jsx("rect",{fill:d[2],x:"0",width:g+4,height:"16",rx:"2"}),y.jsxs("g",{ref:m,children:[y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(g+4)/2,y:"8",fontSize:"7",fill:j,children:c[0]}),y.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(g+4)/2,y:"13.5",fontSize:"4",fill:j,children:c[1]})]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),y.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),y.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),defaultAttrs:I,attrsComponent:()=>y.jsx(l,{fields:Q}),metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},G={num:1,branch:!1,color:[a.Suzhou,"sz1","#78BA25",o.white]},Z=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:G).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:G;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:e=>{var n;return null!==(n=null==e?void 0:e.branch)&&void 0!==n?n:G.branch},onChange:(e,n)=>{const t=null!=n?n:G;return t.branch=e,t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.SuzhouRTNumLineBadge,defaultTheme:G.color})}],H={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=G.num,branch:c=G.branch,color:d=G.color}=null!=a?a:G,m=N.useCallback((e=>o(n,e)),[n,o]),h=N.useCallback((e=>i(n,e)),[n,i]),u=N.useCallback((e=>r(n,e)),[n,r]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[y.jsx("rect",{fill:d[2],width:"20",height:"20",rx:"2",ry:"2"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:d[3],fontSize:"15",letterSpacing:"-1",children:s}),c&&y.jsxs(y.Fragment,{children:[y.jsx("text",{className:"rmp-name__zh",x:22.5,y:"10",fontSize:"10",children:"支线"}),y.jsx("text",{className:"rmp-name__en",x:22.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),y.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:G,attrsComponent:()=>y.jsx(l,{fields:Z}),metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},J={num:1,color:[a.Berlin,"bu1","#62AD2D",o.white]},Y=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:J).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:J;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.BerlinUBahnLineBadge,defaultTheme:J.color})}],K={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=J.num,color:c=J.color}=null!=a?a:J,d=N.useCallback((e=>o(n,e)),[n,o]),m=N.useCallback((e=>i(n,e)),[n,i]),h=N.useCallback((e=>r(n,e)),[n,r]),u=c[3];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:"25",height:"15"}),y.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:u,fontSize:"14",letterSpacing:"1",children:["U",s]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),y.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),defaultAttrs:J,attrsComponent:()=>y.jsx(l,{fields:Y}),metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},X={num:1,color:[a.Berlin,"bs1","#DD6CA6",o.white]},ee=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:X).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:X;return Number.isNaN(e)||(t.num=Number(e)),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.BerlinSBahnLineBadge,defaultTheme:X.color})}],ne={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=X.num,color:c=X.color}=null!=a?a:X,[d,m]=s>=10?[6,19.75]:[10,20],h=N.useCallback((e=>o(n,e)),[n,o]),u=N.useCallback((e=>i(n,e)),[n,i]),x=N.useCallback((e=>r(n,e)),[n,r]),p=c[3];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:"30",height:"15",rx:"8"}),y.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:d,y:"12.5",fill:p,fontSize:"14",letterSpacing:"0",children:"S"}),y.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:m,y:"12.5",fill:p,fontSize:"14",letterSpacing:"-0.2",children:s})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),y.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),defaultAttrs:X,attrsComponent:()=>y.jsx(l,{fields:ee}),metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},te={num:1,color:[a.Chongqing,"cq1","#e4002b",o.white]},le=[{type:"input",label:"panel.details.nodes.common.num",value:e=>(null!=e?e:te).num,validator:e=>!Number.isNaN(e),onChange:(e,n)=>{const t=null!=n?n:te;return Number.isNaN(Number(e))?t.num=e:t.num=Number(e),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.ChongqingRTNumLineBadge,defaultTheme:te.color})}],ae={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=te.num,color:c=te.color}=null!=a?a:te,d=N.useCallback((e=>o(n,e)),[n,o]),m=N.useCallback((e=>i(n,e)),[n,i]),h=N.useCallback((e=>r(n,e)),[n,r]),u=c[3],x=Number.isInteger(s)?16:15,[p,f]=Number.isInteger(s)?Number(s)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:f,y:"10",fill:u,fontSize:x,letterSpacing:p,dominantBaseline:"central",children:s})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),y.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),defaultAttrs:te,attrsComponent:()=>y.jsx(l,{fields:le}),metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},oe={names:["空港线","Konggang Line"],color:[a.Chongqing,"cq3","#003da5",o.white]},ie=[{type:"input",label:"panel.details.nodes.common.nameZh",value:e=>(null!=e?e:oe).names[0],onChange:(e,n)=>{const t=null!=n?n:oe;return t.names[0]=e.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:e=>(null!=e?e:oe).names[1],onChange:(e,n)=>{const t=null!=n?n:oe;return t.names[1]=e.toString(),t}},{type:"custom",label:"color",component:y.jsx(i,{type:r.ChongqingRTTextLineBadge,defaultTheme:oe.color})}],re={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=oe.names,color:c=oe.color}=null!=a?a:oe,d=N.useRef(null),m=N.useCallback((e=>o(n,e)),[n,o]),h=N.useCallback((e=>i(n,e)),[n,i]),u=N.useCallback((e=>r(n,e)),[n,r]),x=c[3];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:x,fontSize:"6",letterSpacing:"0",children:s[0]}),y.jsx(S,{ref:d,text:s[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:x,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),y.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),y.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),defaultAttrs:oe,attrsComponent:()=>y.jsx(l,{fields:ie}),metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},se=11.84375,ce={num:1,color:[a.Shenzhen,"sz1","#00b140",o.white],isBranch:!1},de={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=ce.num,color:c=ce.color,isBranch:d=ce.isBranch}=null!=a?a:ce,m=N.useCallback((e=>o(n,e)),[n,o]),h=N.useCallback((e=>i(n,e)),[n,i]),u=N.useCallback((e=>r(n,e)),[n,r]),x=c[3],p=d?10:se+(s>9?6.5:3),f=d?-1:0,g=d?11:se+(s>9?7:3.5),j=d?6:9.921875;return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:[y.jsx("rect",{fill:c[2],x:"0",width:32.84375,height:"16",rx:"2"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:j,y:"13.5",fill:x,fontSize:"15",letterSpacing:"-1",children:s}),y.jsxs("text",{className:"rmp-name__zh",x:p,y:"9.5",fontSize:"6",fill:x,letterSpacing:f,children:["号线",d?"支线":""]}),y.jsxs("text",{className:"rmp-name__en",x:g,y:"13.5",fontSize:"3",fill:x,children:[d?"Branch":""," Line ",s]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),y.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),y.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),y.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),defaultAttrs:ce,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.ShenzhenMetroNumLineBadge,defaultTheme:ce.color}),minW:"full"},{type:"switch",label:a("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:e=>{t.isBranch=e,l(n,t)},minW:"full"}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},me={num:1,color:[a.Singapore,"ewl","#009739",o.white]},he={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=me.num,color:c=me.color}=null!=a?a:me,d=N.useCallback((e=>o(n,e)),[n,o]),m=N.useCallback((e=>i(n,e)),[n,i]),h=N.useCallback((e=>r(n,e)),[n,r]),u=c[3],x=c[2];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:d,onPointerMove:m,onPointerUp:h,style:{cursor:"move"},children:[y.jsx("circle",{r:"8",fill:x}),y.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:u,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:s})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),y.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:me,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.MRTDestinationNumbers,defaultTheme:me.color}),minW:"full"}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},ue={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[a.Singapore,"ewl","#009739",o.white]},xe={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{lineCode:s=ue.lineCode,color:c=ue.color,lines:d=ue.lines,name:m=ue.name,isTram:h=ue.isTram}=null!=a?a:ue,u=N.useCallback((e=>o(n,e)),[n,o]),x=N.useCallback((e=>i(n,e)),[n,i]),p=N.useCallback((e=>r(n,e)),[n,r]),f=c[3],g=c[2];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[y.jsx("rect",{transform:"scale(1.8)",x:-11.425,y:-6.4675,rx:"3",ry:"6",width:22.85,height:12.935,fill:g,stroke:"white",strokeWidth:"1"}),y.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:f,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:s}),y.jsx("text",{className:"rmp-name__mrt",textAnchor:"left",x:"28",y:h?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:m}),!h&&d.split(",").map(((e,n)=>y.jsx("g",{transform:`translate(${34+14*n}, 4.5)`,children:"airport"!==e.trim()?y.jsxs(y.Fragment,{children:[y.jsx("circle",{r:"6",fill:g}),y.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:f,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:e})]}):y.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[y.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),y.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},n)))]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),y.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),defaultAttrs:ue,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.nameEn"),value:t.name,onChange:e=>{t.name=e,l(n,t)},minW:"full"},{type:"input",label:a("panel.details.stations.common.lineCode"),value:t.lineCode,onChange:e=>{t.lineCode=e,l(n,t)},minW:"full"},{type:"switch",label:a("panel.details.nodes.mrtLineBadge.isTram"),isChecked:t.isTram,onChange:e=>{t.isTram=e,l(n,t)},minW:"full",oneLine:!0},...t.isTram?[]:[{type:"input",label:a("panel.details.nodes.common.num"),value:t.lines,onChange:e=>{t.lines=e,l(n,t)},minW:"full"}],{type:"custom",label:a("color"),component:y.jsx(i,{type:r.MRTLineBadge,defaultTheme:ue.color}),minW:"full"}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},pe=5*Math.SQRT1_2,fe=.25,ge=(pe*Math.SQRT2-fe)/2*Math.SQRT2,ye={names:["山手線","Yamanote Line"],color:[a.Tokyo,"jy","#9ACD32",o.black],num:9,crosshatchPatternFill:!1},je={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=ye.names,num:c=ye.num,color:d=ye.color,crosshatchPatternFill:m=ye.crosshatchPatternFill}=null!=a?a:ye,h=N.useRef(null),[u,x]=N.useState({height:10,width:12});N.useEffect((()=>x(h.current.getBBox())),[...s,x,h]);const p=N.useCallback((e=>o(n,e)),[n,o]),f=N.useCallback((e=>i(n,e)),[n,i]),g=N.useCallback((e=>r(n,e)),[n,r]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:p,onPointerMove:f,onPointerUp:g,style:{cursor:"move"},children:[y.jsxs("defs",{children:[y.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[y.jsx("polygon",{points:`0,0 0,${ge} ${ge},0`}),y.jsx("polygon",{points:`${pe},${pe} ${pe-ge},${pe} ${pe},${pe-ge}`})]}),y.jsxs("pattern",{id:`jr_east_${n}_fill_pattern_${d[2]}`,width:pe,height:pe,patternUnits:"userSpaceOnUse",children:[y.jsx("rect",{width:pe,height:pe,fill:d[2]}),y.jsx("line",{x1:"0",y1:"0",x2:pe,y2:pe,stroke:"white",strokeWidth:fe,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),y.jsx("line",{x1:pe,y1:"0",x2:"0",y2:pe,stroke:"white",strokeWidth:fe,strokeOpacity:"33%"})]})]}),y.jsx("rect",{fill:m?`url(#jr_east_${n}_fill_pattern_${d[2]})`:d[2],x:"0",y:"-1",width:u.width+4+10,height:u.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),y.jsx("circle",{r:4,cx:7,cy:6,stroke:"black",strokeWidth:"0.25",fill:d[3]}),y.jsx("text",{x:7,y:6.75,textAnchor:"middle",dominantBaseline:"middle",fill:"#000"===d[3]?"white":d[2],fontSize:c>9?7:8,className:"rmp-name__jreast_en",children:c}),y.jsx(S,{ref:h,text:s[0].split("\n"),x:12,y:"-1",fill:d[3],fontSize:10,lineHeight:10,grow:"down",className:"rmp-name__jreast_ja"}),y.jsx(S,{text:s[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(u.width+4+10)/2,y:u.height+1,fontSize:5,lineHeight:5,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),y.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),y.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),y.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),y.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),defaultAttrs:ye,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:String(t.num),validator:e=>!Number.isNaN(e),onChange:e=>{t.num=Number(e),l(n,t)},minW:"full"},{type:"textarea",label:a("panel.details.nodes.common.nameJa"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"textarea",label:a("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"},{type:"switch",label:a("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:e=>{t.crosshatchPatternFill=e,l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.JREastLineBadge,defaultTheme:ye.color})}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},be={num:1,numEn:"1",showText:!0,color:[a.Qingdao,"qd1","#f7b000",o.white]},we={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{num:s=be.num,numEn:c=be.numEn,color:d=be.color,showText:m=be.showText}=null!=a?a:be,h=N.useCallback((e=>o(n,e)),[n,o]),u=N.useCallback((e=>i(n,e)),[n,i]),x=N.useCallback((e=>r(n,e)),[n,r]),p=d[3],[f,g,j,b]=Number(s)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:h,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[y.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),y.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:g,y:j,fill:p,fontSize:b,fontWeight:"bold",letterSpacing:f,dominantBaseline:"central",children:s}),m&&y.jsxs(y.Fragment,{children:[y.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),y.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",c]})]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),y.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),y.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),y.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),defaultAttrs:be,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.num"),value:t.num.toString(),onChange:e=>{t.num=Number(e),t.numEn=e,l(n,t)}},{type:"input",label:a("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:e=>{t.numEn=e,l(n,t)}},{type:"switch",label:a("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:e=>{t.showText=e,l(n,t)}},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.QingdaoMetroNumLineBadge,defaultTheme:be.color})}];return y.jsx(s,{fields:o,minW:"full"})},metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},ve={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[a.Guangzhou,"ir","#2559a8",o.white]},Ne={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{names:s=ve.names,color:c=ve.color}=null!=a?a:ve,d=N.useRef(null),[m,h]=N.useState({width:12});N.useEffect((()=>h(d.current.getBBox())),[...s,h,d]);const u=N.useCallback((e=>o(n,e)),[n,o]),x=N.useCallback((e=>i(n,e)),[n,i]),p=N.useCallback((e=>r(n,e)),[n,r]);return y.jsxs("g",{id:n,transform:`translate(${t}, ${l})`,onPointerDown:u,onPointerMove:x,onPointerUp:p,style:{cursor:"move"},children:[y.jsx("rect",{rx:"2",ry:"2",fill:c[2],x:"0",width:m.width+7,height:"21"}),y.jsxs("g",{ref:d,children:[y.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"3",fontSize:"8.63",fill:c[3],children:s[0]}),y.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(m.width+7)/2,y:"14",fontSize:"3.54",fill:c[3],children:s[1]})]})]})},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),y.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),y.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),defaultAttrs:ve,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"input",label:a("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:e=>{t.names[0]=e,l(n,t)},minW:"full"},{type:"input",label:a("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:e=>{t.names[1]=e,l(n,t)},minW:"full"}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},Ce=`M0,0 L-10,-10 L${5*Math.SQRT2-10},-10 L${5*Math.SQRT2},0 L${5*Math.SQRT2-10},10 L-10,10 Z`,Pe={color:[a.London,"thameslink","#d28db0",o.white],rotate:0,type:"continuation"},Se={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,{color:s=Pe.color,rotate:c=Pe.rotate,type:d=Pe.type}=null!=a?a:Pe,m=N.useCallback((e=>o(n,e)),[n,o]),h=N.useCallback((e=>i(n,e)),[n,i]),u=N.useCallback((e=>r(n,e)),[n,r]);return y.jsx("g",{id:n,transform:`translate(${t}, ${l})rotate(${c})`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"},children:"continuation"===d?y.jsx("path",{id:`virtual_circle_${n}`,fill:s[2],d:Ce}):"sandwich"===d?y.jsx("path",{transform:"scale(0.5)",id:`virtual_circle_${n}`,stroke:"white",strokeWidth:"1",fill:s[2],d:Ce}):y.jsx("path",{transform:"scale(0.25)",id:`virtual_circle_${n}`,fill:"white",d:Ce})})},icon:y.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:y.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:Ce})}),defaultAttrs:Pe,attrsComponent:e=>{const{id:n,attrs:t,handleAttrsUpdate:l}=e,{t:a}=C(),o=[{type:"select",label:a("panel.details.stations.common.rotate"),value:t.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:e=>{t.rotate=Number(e),l(n,t)},minW:"full"},{type:"select",label:a("panel.details.nodes.londonArrow.type"),value:t.type,options:{continuation:a("panel.details.nodes.londonArrow.continuation"),sandwich:a("panel.details.nodes.londonArrow.sandwich"),tube:a("panel.details.nodes.londonArrow.tube")},onChange:e=>{t.type=e,l(n,t)},minW:"full"},{type:"custom",label:a("color"),component:y.jsx(i,{type:r.LondonArrow,defaultTheme:Pe.color}),minW:"full"}];return y.jsx(s,{fields:o})},metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},Be=n({contents:{}},_),_e={component:e=>{const{id:n,x:t,y:l,attrs:a,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r}=e,s=k();a.content=s(a.contents);const c=B.component;return y.jsx(c,{id:n,x:t,y:l,handlePointerDown:o,handlePointerMove:i,handlePointerUp:r,attrs:a})},icon:B.icon,defaultAttrs:Be,attrsComponent:B.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},ke={randomId:void 0,label:void 0,transform:c,nodeType:"MiscNode",svgs:[],components:[]},ze={component:e=>{var t;const{id:l,x:a,y:o,attrs:i,handlePointerDown:r,handlePointerMove:s,handlePointerUp:d}=e,m=N.useCallback((e=>r(l,e)),[l,r]),h=N.useCallback((e=>s(l,e)),[l,s]),u=N.useCallback((e=>d(l,e)),[l,d]),x=(e,...n)=>new Function(...n,`return ${e}`),p="MiscNode"===i.nodeType?{onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},f=e=>e.map((e=>{var t,a;const o="Station"===i.nodeType&&i.core&&i.core===e.id?{id:`stn_core_${l}`,onPointerDown:m,onPointerMove:h,onPointerUp:u,style:{cursor:"move"}}:{},r=((e,n,t)=>{const l={};for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r))try{var a;l[r]=x(e[r].slice(1),...i.components.map((e=>e.label)),"color")(...n.map(((e,n)=>"number"!==t[n]||Number.isNaN(Number(e))?e:Number(e))),i.color?null!==(a=i.color.value)&&void 0!==a?a:i.color.defaultValue:"")}catch(o){l[r]=""}return l})(e.attrs,i.components.map((e=>e.value)),i.components.map((e=>e.type)));return y.jsx("g",{transform:`translate(${null!==(t=r.x)&&void 0!==t?t:0}, ${null!==(a=r.y)&&void 0!==a?a:0})`,children:N.createElement(e.type,n(n({},r),{},{x:0,y:0},o),e.children?f(e.children):"_rmp_children_text"in r?"style"===e.type?(s=r._rmp_children_text,s.replace(/(^|,)\s*([^{},]+)/g,`$1 #${l} $2`)):r._rmp_children_text:null)},e.id);var s})),g=null!==(t=i.transform)&&void 0!==t?t:c,j=N.useMemo((()=>f(i.svgs)),[i]);return N.createElement("g",n({id:l,transform:`translate(${a}, ${o})`},p),i.randomId?y.jsx("g",{transform:`translate(${g.translateX}, ${g.translateY}) scale(${g.scale}) rotate(${g.rotate})`,children:j}):y.jsxs("g",{children:[y.jsx("circle",{r:"5.5"}),y.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:y.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},icon:y.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[y.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),y.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:y.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),defaultAttrs:ke,attrsComponent:e=>{var t,l,a,i,r;const{id:c,attrs:P,handleAttrsUpdate:S}=e,B=d(),{paletteAppClip:{output:_}}=m((e=>e.runtime)),{t:k}=C(),[M,A]=N.useState(!1),[$,T]=N.useState(!1),U=P.components.map(((e,t)=>{const{label:l,type:a,defaultValue:o,value:i}=e;return"number"===a||"text"===a?{label:k(l),type:"input",value:null!=i?i:o,onChange:e=>{P.components[t].value=e,S(c,n(n({},P),{},{components:P.components}))}}:"switch"===a?{label:k(l),type:"switch",isChecked:void 0!==i?!!i:o,onChange:e=>{P.components[t].value=e,S(c,n(n({},P),{},{components:P.components}))}}:"textarea"===a?{label:k(l),type:"textarea",value:null!=i?i:o,onChange:e=>{P.components[t].value=e,S(c,n(n({},P),{},{components:P.components}))}}:{type:"input",label:"undefined",value:"none"}})),[D,W]=N.useState(!1);N.useEffect((()=>{P.color&&D&&_&&(P.color.value=_,S(c,n(n({},P),{},{color:P.color})),W(!1))}),[null==_?void 0:_.toString()]);const E=[{type:"custom",label:k("color"),component:y.jsx(h,{theme:null===(t=P.color)||void 0===t?void 0:t.value,onClick:()=>{var e;W(!0),B(u(null===(e=P.color)||void 0===e?void 0:e.value))}})}];return y.jsxs(y.Fragment,{children:[y.jsxs(j,{direction:"row",mr:"auto",width:"100%",children:[y.jsx(x,{width:"100%",overflow:"hidden",label:k("panel.details.nodes.master.type"),children:y.jsxs(j,{width:"100%",overflow:"hidden",children:[y.jsx(p,{name:null!==(l=P.label)&&void 0!==l?l:k("panel.details.nodes.master.undefined"),fg:null!==(a=P.labelColorFg)&&void 0!==a?a:o.white,bg:null!==(i=P.labelColorBg)&&void 0!==i?i:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),y.jsx(p,{name:null!==(r=P.randomId)&&void 0!==r?r:"UNDEFINED",fg:o.white,bg:P.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),y.jsx(b,{}),y.jsx(w,{icon:y.jsx(f,{}),onClick:()=>A(!0),"aria-label":"upload"})]}),y.jsx(v,{width:"100%",leftIcon:y.jsx(g,{}),onClick:()=>T(!0),children:k("header.settings.procedures.masterManager.title")}),P.randomId&&y.jsx(s,{fields:U,minW:"full"}),P.randomId&&void 0!==P.color&&y.jsx(s,{fields:E,minW:"full"}),y.jsx(z,{isOpen:M,onClose:()=>A(!1),onSubmit:e=>{e.components.forEach(((n,t)=>{var l;e.components[t].value=null!==(l=(e=>{var n;const t=P.components.find((n=>n.id===e));return t?null!==(n=t.value)&&void 0!==n?n:t.defaultValue:void 0})(n.id))&&void 0!==l?l:n.defaultValue})),void 0!==e.color&&(e.color.value=P.color?P.color.value:e.color.defaultValue),S(c,e)}}),y.jsx(L,{isOpen:$,onClose:()=>T(!1)})]})},metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}};e("m",{[r.Virtual]:t,[r.ShmetroNumLineBadge]:T,[r.ShmetroTextLineBadge]:D,[r.GzmtrLineBadge]:E,[r.BjsubwayNumLineBadge]:F,[r.BjsubwayTextLineBadge]:V,[r.SuzhouRTNumLineBadge]:H,[r.BerlinSBahnLineBadge]:ne,[r.BerlinUBahnLineBadge]:K,[r.ChongqingRTNumLineBadge]:ae,[r.ChongqingRTTextLineBadge]:re,[r.ShenzhenMetroNumLineBadge]:de,[r.MRTDestinationNumbers]:he,[r.MRTLineBadge]:xe,[r.JREastLineBadge]:je,[r.QingdaoMetroNumLineBadge]:we,[r.GuangdongIntercityRailwayLineBadge]:Ne,[r.LondonArrow]:Se,[r.Facilities]:M,[r.Text]:B,[r.I18nText]:_e,[r.Master]:ze})}}}))}();
