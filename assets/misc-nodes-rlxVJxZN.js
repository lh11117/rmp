import{aV as I,C as S,M as L,aW as T,aE as b,i as k,aX as ye,c as be,d as je,V as we,W as Ne,P as Be,R as ge,D as Ce,am as Le}from"./index-BASdGEeE.js";import{j as n,h as pe,aM as ve,a2 as Se,t as Te}from"./chakra-Bbq65mY9.js";import{b as r,u as M}from"./react-DsCD0OwY.js";import{L as Pe,o as me,t as he,p as Ae,q as ze,r as ke,M as Me,v as Re}from"./master-manager-cPfsc-jt.js";const _e=o=>{const{id:e,x:t,y:i,handlePointerDown:l,handlePointerMove:s,handlePointerUp:a}=o,m=r.useCallback(d=>l(e,d),[e,l]),c=r.useCallback(d=>s(e,d),[e,s]),h=r.useCallback(d=>a(e,d),[e,a]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")rotate(45)"),onPointerDown:m,onPointerMove:c,onPointerUp:h,style:{cursor:"move"},className:"removeMe",children:[n.jsx("line",{x1:"-5",y1:"0",x2:"5",y2:"0",stroke:"black"}),n.jsx("line",{x1:"0",y1:"-5",x2:"0",y2:"5",stroke:"black"}),n.jsx("circle",{id:"virtual_circle_".concat(e),r:5,stroke:"black",fill:"white",fillOpacity:"0"})]})},$e={},Ue=()=>n.jsx(I,{fields:[]}),De=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,transform:"rotate(45)",focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("line",{x1:"6",y1:"12",x2:"18",y2:"12",stroke:"currentColor"}),n.jsx("line",{x1:"12",y1:"6",x2:"12",y2:"18",stroke:"currentColor"})]}),Ie={component:_e,icon:De,defaultAttrs:$e,attrsComponent:Ue,metadata:{displayName:"panel.details.nodes.virtual.displayName",tags:[]}},Ee=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=V.num,color:h=V.color}=l!=null?l:V,[d,y]=c>=10?[22.67,10.75]:[21,10],p=r.useCallback(x=>s(e,x),[e,s]),f=r.useCallback(x=>a(e,x),[e,a]),u=r.useCallback(x=>m(e,x),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],width:d,height:"22.67"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:y,y:"19",fill:h[3],fontSize:"21.33",letterSpacing:"-1.75",children:c}),n.jsx("text",{className:"rmp-name__zh",x:d+2,y:"12",fontSize:"14.67",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:d+4,y:"21.5",fontSize:"8",children:["Line ",c]})]})},V={num:1,color:[S.Shanghai,"sh1","#E4002B",L.white]},We=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:V).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:V;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.ShmetroNumLineBadge,defaultTheme:V.color})}],qe=()=>n.jsx(I,{fields:We}),Fe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"10",height:"16"}),n.jsx("text",{x:"4",y:"18",fill:"white",children:"1"}),n.jsx("text",{x:"14",y:"10",fontSize:"5",children:"号线"}),n.jsx("text",{x:"14",y:"18",fontSize:"4",children:"Line 1"})]}),Oe={component:Ee,icon:Fe,defaultAttrs:V,attrsComponent:qe,metadata:{displayName:"panel.details.nodes.shmetroNumLineBadge.displayName",tags:[]}},Qe=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=te.names,color:h=te.color}=l!=null?l:te,d=r.useRef(null),[y,p]=r.useState({width:12});r.useEffect(()=>p(d.current.getBBox()),[...c,p,d]);const f=r.useCallback(g=>s(e,g),[e,s]),u=r.useCallback(g=>a(e,g),[e,a]),x=r.useCallback(g=>m(e,g),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:y.width+7,height:"21"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"3",fontSize:"10",fill:h[3],letterSpacing:"-0.25",children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"14",fontSize:"5",fill:h[3],letterSpacing:"-0.25",children:c[1]})]})]})},te={names:["浦江线","Pujiang Line"],color:[S.Shanghai,"pjl","#B5B5B6",L.white]},Ve=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:a=>{t.names[0]=a,i(e,t)},minW:"full"},{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:a=>{t.names[1]=a,i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.ShmetroTextLineBadge,defaultTheme:te.color})}];return n.jsx(k,{fields:s})},Xe=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),n.jsx("text",{x:"5",y:"11",fontSize:"5",fill:"white",children:"浦江线"}),n.jsx("text",{x:"3",y:"16",fontSize:"4",fill:"white",children:"Pujiang Line"})]}),Ge={component:Qe,icon:Xe,defaultAttrs:te,attrsComponent:Ve,metadata:{displayName:"panel.details.nodes.shmetroTextLineBadge.displayName",tags:[]}},He=o=>{var x,g;const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=F.names,color:h=F.color,tram:d=F.tram,span:y=F.span}=l!=null?l:F,p=r.useCallback(j=>s(e,j),[e,s]),f=r.useCallback(j=>a(e,j),[e,a]),u=r.useCallback(j=>m(e,j),[e,m]);return n.jsx("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")scale(").concat(d?.5:1,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:n.jsx(Pe,{zhName:(x=c.at(0))!=null?x:"",enName:(g=c.at(1))!=null?g:"",zhClassName:"rmp-name__zh",enClassName:"rmp-name__en",foregroundColour:h[3],backgroundColour:h[2],spanDigits:y})})},F={names:["1号线","Line 1"],color:[S.Guangzhou,"gz1","#F3D03E",L.black],tram:!1,span:!0},Ze=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:a=>{t.names[0]=a,i(e,t)},minW:"full"},{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:a=>{t.names[1]=a,i(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.gzmtrLineBadge.tram"),oneLine:!0,isChecked:t.tram,onChange:a=>{t.tram=a,i(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.gzmtrLineBadge.span"),oneLine:!0,isChecked:t.span,onChange:a=>{t.span=a,i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.GzmtrLineBadge,defaultTheme:F.color})}];return n.jsx(k,{fields:s})},Je=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"5",width:"20",height:"14",rx:"1"}),n.jsx("text",{x:"6",y:"15",textAnchor:"middle",fontSize:"10",fill:"white",children:"1"}),n.jsx("text",{x:"15",y:"12",textAnchor:"middle",fontSize:"6",fill:"white",children:"号线"}),n.jsx("text",{x:"14.5",y:"17",textAnchor:"middle",fontSize:"4",fill:"white",children:"Line 1"})]}),Ke={component:He,icon:Je,defaultAttrs:F,attrsComponent:Ze,metadata:{displayName:"panel.details.nodes.gzmtrLineBadge.displayName",tags:[]}},le=11.84375,Ye=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=X.num,color:h=X.color}=l!=null?l:X,d=r.useCallback(u=>s(e,u),[e,s]),y=r.useCallback(u=>a(e,u),[e,a]),p=r.useCallback(u=>m(e,u),[e,m]),f=h[3]===L.black?"#003670":L.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:d,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:le+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:le/2+2,y:"13.5",fill:f,fontSize:"15",letterSpacing:"-1.5",children:c}),n.jsx("text",{className:"rmp-name__zh",x:le+(c>9?5.5:3),y:"8.5",fontSize:"7",fill:f,children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:le+(c>9?6:4.5),y:"13.5",fontSize:"4",fill:f,children:["Line ",c]})]})},X={num:1,color:[S.Beijing,"bj1","#c23a30",L.white]},en=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:X).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:X;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.BjsubwayNumLineBadge,defaultTheme:X.color})}],nn=()=>n.jsx(I,{fields:en}),tn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"11",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"11",y:"17",fill:"white",fontSize:"4",children:"Line 1"})]}),on={component:Ye,icon:tn,defaultAttrs:X,attrsComponent:nn,metadata:{displayName:"panel.details.nodes.bjsubwayNumLineBadge.displayName",tags:[]}},ln=28.84375,an=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=$.names,color:h=$.color}=l!=null?l:$,d=r.useRef(null),[y,p]=r.useState({width:12});r.useEffect(()=>p(d.current.getBBox()),[...c,p,d]);const f=r.useCallback(w=>s(e,w),[e,s]),u=r.useCallback(w=>a(e,w),[e,a]),x=r.useCallback(w=>m(e,w),[e,m]),g=Math.max(ln,y.width),j=h[3]===L.black?"#003670":L.white;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:g+4,height:"16",rx:"2"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:(g+4)/2,y:"8",fontSize:"7",fill:j,children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:(g+4)/2,y:"13.5",fontSize:"4",fill:j,children:c[1]})]})]})},$={names:["八通线","Batong Line"],color:[S.Beijing,"bj1","#c23a30",L.white]},sn=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:$).names[0],onChange:(o,e)=>{const t=e!=null?e:$;return t.names[0]=o.toString(),t}},{type:"input",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:$).names[1],onChange:(o,e)=>{const t=e!=null?e:$;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.BjsubwayTextLineBadge,defaultTheme:$.color})}],rn=()=>n.jsx(I,{fields:sn}),cn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12",rx:"2"}),n.jsx("text",{x:"3",y:"12",fontSize:"6",fill:"white",children:"八通线"}),n.jsx("text",{x:"3",y:"16",fontSize:"3.2",fill:"white",children:"Batong Line"})]}),dn={component:an,icon:cn,defaultAttrs:$,attrsComponent:rn,metadata:{displayName:"panel.details.nodes.bjsubwayTextLineBadge.displayName",tags:[]}},mn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=R.num,branch:h=R.branch,color:d=R.color}=l!=null?l:R,y=r.useCallback(u=>s(e,u),[e,s]),p=r.useCallback(u=>a(e,u),[e,a]),f=r.useCallback(u=>m(e,u),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"middle",x:"10",y:"11.4",fill:d[3],fontSize:"15",letterSpacing:"-1",children:c}),h&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:20+2.5,y:"10",fontSize:"10",children:"支线"}),n.jsx("text",{className:"rmp-name__en",x:20+2.5,y:"18",fontSize:"5",fill:"gray",children:"Branch line"})]})]})},R={num:1,branch:!1,color:[S.Suzhou,"sz1","#78BA25",L.white]},hn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:R).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:R;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"switch",label:"panel.details.nodes.suzhouRTNumLineBadge.branch",isChecked:o=>{var e;return(e=o==null?void 0:o.branch)!=null?e:R.branch},onChange:(o,e)=>{const t=e!=null?e:R;return t.branch=o,t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.SuzhouRTNumLineBadge,defaultTheme:R.color})}],un=()=>n.jsx(I,{fields:hn}),xn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"4",y:"4",width:"16",height:"16",rx:"3",ry:"3"}),n.jsx("text",{x:"12",y:"13.4",textAnchor:"middle",dominantBaseline:"middle",fill:"white",fontSize:"14",children:"1"})]}),gn={component:mn,icon:xn,defaultAttrs:R,attrsComponent:un,metadata:{displayName:"panel.details.nodes.suzhouRTNumLineBadge.displayName",tags:[]}},pn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=G.num,color:h=G.color}=l!=null?l:G,d=r.useCallback(u=>s(e,u),[e,s]),y=r.useCallback(u=>a(e,u),[e,a]),p=r.useCallback(u=>m(e,u),[e,m]),f=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:d,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"25",height:"15"}),n.jsxs("text",{className:"rmp-name__berlin",textAnchor:"middle",x:"12.5",y:"12.5",fill:f,fontSize:"14",letterSpacing:"1",children:["U",c]})]})},G={num:1,color:[S.Berlin,"bu1","#62AD2D",L.white]},fn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:G).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:G;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.BerlinUBahnLineBadge,defaultTheme:G.color})}],yn=()=>n.jsx(I,{fields:fn}),bn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"U1"})]}),jn={component:pn,icon:bn,defaultAttrs:G,attrsComponent:yn,metadata:{displayName:"panel.details.nodes.berlinUBahnLineBadge.displayName",tags:[]}},wn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=H.num,color:h=H.color}=l!=null?l:H,[d,y]=c>=10?[6,19.75]:[10,20],p=r.useCallback(g=>s(e,g),[e,s]),f=r.useCallback(g=>a(e,g),[e,a]),u=r.useCallback(g=>m(e,g),[e,m]),x=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"30",height:"15",rx:"8"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:d,y:"12.5",fill:x,fontSize:"14",letterSpacing:"0",children:"S"}),n.jsx("text",{className:"rmp-name__berlin",textAnchor:"middle",x:y,y:"12.5",fill:x,fontSize:"14",letterSpacing:"-0.2",children:c})]})},H={num:1,color:[S.Berlin,"bs1","#DD6CA6",L.white]},Nn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:H).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:H;return Number.isNaN(o)||(t.num=Number(o)),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.BerlinSBahnLineBadge,defaultTheme:H.color})}],Bn=()=>n.jsx(I,{fields:Nn}),Cn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"8"}),n.jsx("text",{x:"4.5",y:"16.5",fill:"white",fontSize:"14",children:"S1"})]}),Ln={component:wn,icon:Cn,defaultAttrs:H,attrsComponent:Bn,metadata:{displayName:"panel.details.nodes.berlinSBahnLineBadge.displayName",tags:[]}},vn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=Z.num,color:h=Z.color}=l!=null?l:Z,d=r.useCallback(j=>s(e,j),[e,s]),y=r.useCallback(j=>a(e,j),[e,a]),p=r.useCallback(j=>m(e,j),[e,m]),f=h[3],u=Number.isInteger(c)?16:15,[x,g]=Number.isInteger(c)?Number(c)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:d,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:g,y:"10",fill:f,fontSize:u,letterSpacing:x,dominantBaseline:"central",children:c})]})},Z={num:1,color:[S.Chongqing,"cq1","#e4002b",L.white]},Sn=[{type:"input",label:"panel.details.nodes.common.num",value:o=>(o!=null?o:Z).num,validator:o=>!Number.isNaN(o),onChange:(o,e)=>{const t=e!=null?e:Z;return Number.isNaN(Number(o))?t.num=o:t.num=Number(o),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.ChongqingRTNumLineBadge,defaultTheme:Z.color})}],Tn=()=>n.jsx(I,{fields:Sn}),Pn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"8",y:"18",fill:"white",fontSize:"18",children:"1"})]}),An={component:vn,icon:Pn,defaultAttrs:Z,attrsComponent:Tn,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge.displayName",tags:[]}},zn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=U.names,color:h=U.color}=l!=null?l:U,d=r.useRef(null),y=r.useCallback(x=>s(e,x),[e,s]),p=r.useCallback(x=>a(e,x),[e,a]),f=r.useCallback(x=>m(e,x),[e,m]),u=h[3];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"20",height:"20",rx:"10",ry:"10"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10",y:"10.5",fill:u,fontSize:"6",letterSpacing:"0",children:c[0]}),n.jsx(me,{ref:d,text:c[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:"10",y:"9.25",fill:u,fontSize:"2.5",letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},U={names:["空港线","Konggang Line"],color:[S.Chongqing,"cq3","#003da5",L.white]},kn=[{type:"input",label:"panel.details.nodes.common.nameZh",value:o=>(o!=null?o:U).names[0],onChange:(o,e)=>{const t=e!=null?e:U;return t.names[0]=o.toString(),t}},{type:"textarea",label:"panel.details.nodes.common.nameEn",value:o=>(o!=null?o:U).names[1],onChange:(o,e)=>{const t=e!=null?e:U;return t.names[1]=o.toString(),t}},{type:"custom",label:"color",component:n.jsx(T,{type:b.ChongqingRTTextLineBadge,defaultTheme:U.color})}],Mn=()=>n.jsx(I,{fields:kn}),Rn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"4.5",y:"12.5",fill:"white",fontSize:"5",children:"空港线"}),n.jsx("text",{x:"4.5",y:"15",fill:"white",fontSize:"2",children:"Konggang Line"})]}),_n={component:zn,icon:Rn,defaultAttrs:U,attrsComponent:Mn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge.displayName",tags:[]}},$n=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=Y.num,color:h=Y.color}=l!=null?l:Y,d=r.useCallback(j=>s(e,j),[e,s]),y=r.useCallback(j=>a(e,j),[e,a]),p=r.useCallback(j=>m(e,j),[e,m]),f=h[3],u=Number.isInteger(c)?Number(c)>=10?15:16:15,[x,g]=Number.isInteger(c)?Number(c)>=10?[-1.2,1.5]:[0,5.5]:[0,2.55];return n.jsxs("g",{id:e,transform:"translate(".concat(t-10.5,", ").concat(i-10.5,")"),onPointerDown:d,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:"21",height:"21",rx:"3",ry:"3"}),n.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:g+.5,y:"10.5",fill:f,fontSize:u,letterSpacing:x,dominantBaseline:"central",children:c})]})},Y={num:1,color:[S.Chongqing,"cq1","#e4002b",L.white]},Un=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.num"),value:(t!=null?t:Y).num,validator:a=>!Number.isNaN(a),onChange:a=>{Number.isNaN(Number(a))?t.num=a:t.num=Number(a),i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.ChongqingRTNumLineBadge2021,defaultTheme:Y.color}),minW:"full"}];return n.jsx(k,{fields:s})},Dn=n.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[n.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),n.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("text",{textAnchor:"left",x:"7.5",y:"9.5",fill:"white",fontSize:"15",dominantBaseline:"central",children:"1"})]}),In={component:$n,icon:Dn,defaultAttrs:Y,attrsComponent:Un,metadata:{displayName:"panel.details.nodes.chongqingRTNumLineBadge2021.displayName",tags:[]}},En=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=D.names,color:h=D.color,isRapid:d=D.isRapid}=l!=null?l:D,y=r.useRef(null),p=r.useCallback(w=>s(e,w),[e,s]),f=r.useCallback(w=>a(e,w),[e,a]),u=r.useCallback(w=>m(e,w),[e,m]),x=h[3],g=d?42:21,j=21;return n.jsxs("g",{id:e,transform:"translate(".concat(t-g/2,", ").concat(i-j/2,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:g,height:j,rx:"3",ry:"3"}),n.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:g-3,height:j-3,rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:g/2,y:j/2+.5,fill:x,fontSize:d?8:5,letterSpacing:"0",children:c[0]}),n.jsx(me,{ref:y,text:c[1].split("\n"),className:"rmp-name__en",textAnchor:"middle",x:g/2,y:j/2-+!d*.75,fill:x,fontSize:d?4:2.2,letterSpacing:"0",lineHeight:2.25,grow:"down"})]})},D={names:["空港线","Konggang Line"],color:[S.Chongqing,"cq3","#003da5",L.white],isRapid:!1},Wn=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.nameZh"),value:(t!=null?t:D).names[0],onChange:a=>{t.names[0]=a.toString(),i(e,t)},minW:"full"},{type:"textarea",label:l("panel.details.nodes.common.nameEn"),value:(t!=null?t:D).names[1],onChange:a=>{t.names[1]=a.toString(),i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.ChongqingRTTextLineBadge2021,defaultTheme:D.color}),minW:"full"},{type:"switch",label:l("panel.details.nodes.chongqingRTTextLineBadge2021.isRapid"),isChecked:(t!=null?t:D).isRapid,onChange:a=>{t.isRapid=a,i(e,t)},oneLine:!0,minW:"full"}];return n.jsx(k,{fields:s})},qn=n.jsxs("svg",{viewBox:"0 0 21 21",height:40,width:40,focusable:!1,style:{padding:3},children:[n.jsx("rect",{fill:"currentColor",x:"0",width:"21",height:"21",rx:"3",ry:"3"}),n.jsx("rect",{strokeWidth:"1.5",stroke:"white",fill:"none",x:"1.5",y:"1.5",width:"18",height:"18",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:"10.5",y:"11",fill:"white",fontSize:"5",letterSpacing:"0",children:"空港线"}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",x:"10.5",y:"13.75",fill:"white",fontSize:"2",letterSpacing:"0",children:"Konggang Line"})]}),Fn={component:En,icon:qn,defaultAttrs:D,attrsComponent:Wn,metadata:{displayName:"panel.details.nodes.chongqingRTTextLineBadge2021.displayName",tags:[]}},ae=11.84375,On=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=J.num,color:h=J.color,isBranch:d=J.isBranch}=l!=null?l:J,y=r.useCallback(N=>s(e,N),[e,s]),p=r.useCallback(N=>a(e,N),[e,a]),f=r.useCallback(N=>m(e,N),[e,m]),u=h[3],x=d?10:ae+(c>9?6.5:3),g=d?-1:0,j=d?11:ae+(c>9?7:3.5),w=d?6:ae/2+4;return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:[n.jsx("rect",{fill:h[2],x:"0",width:ae+21,height:"16",rx:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",x:w,y:"13.5",fill:u,fontSize:"15",letterSpacing:"-1",children:c}),n.jsxs("text",{className:"rmp-name__zh",x,y:"9.5",fontSize:"6",fill:u,letterSpacing:g,children:["号线",d?"支线":""]}),n.jsxs("text",{className:"rmp-name__en",x:j,y:"13.5",fontSize:"3",fill:u,children:[d?"Branch":""," Line ",c]})]})},J={num:1,color:[S.Shenzhen,"sz1","#00b140",L.white],isBranch:!1},Qn=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:a=>!Number.isNaN(a),onChange:a=>{t.num=Number(a),i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.ShenzhenMetroNumLineBadge,defaultTheme:J.color}),minW:"full"},{type:"switch",label:l("panel.details.nodes.shenzhenMetroNumLineBadge.branch"),oneLine:!0,isChecked:t.isBranch,onChange:a=>{t.isBranch=a,i(e,t)},minW:"full"}];return n.jsx(k,{fields:s})},Vn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"4",width:"20",height:"16",rx:"2"}),n.jsx("text",{x:"4",y:"17",fill:"white",fontSize:"14",children:"1"}),n.jsx("text",{x:"11",y:"14",fill:"white",fontSize:"5",children:"号线"}),n.jsx("text",{x:"12",y:"17",fill:"white",fontSize:"3",children:"Line 1"})]}),Xn={component:On,icon:Vn,defaultAttrs:J,attrsComponent:Qn,metadata:{displayName:"panel.details.nodes.shenzhenMetroNumLineBadge.displayName",tags:[]}},Gn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=oe.num,color:h=oe.color}=l!=null?l:oe,d=r.useCallback(x=>s(e,x),[e,s]),y=r.useCallback(x=>a(e,x),[e,a]),p=r.useCallback(x=>m(e,x),[e,m]),f=h[3],u=h[2];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:d,onPointerMove:y,onPointerUp:p,style:{cursor:"move"},children:[n.jsx("circle",{r:"8",fill:u}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",x:"0",y:"0",width:"12",height:"12",fill:f,fontSize:"12",dominantBaseline:"central",letterSpacing:"-0.2",children:c})]})},oe={num:1,color:[S.Singapore,"ewl","#009739",L.white]},Hn=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:a=>!Number.isNaN(a),onChange:a=>{t.num=Number(a),i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.MRTDestinationNumbers,defaultTheme:oe.color}),minW:"full"}];return n.jsx(k,{fields:s})},Zn=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),Jn={component:Gn,icon:Zn,defaultAttrs:oe,attrsComponent:Hn,metadata:{displayName:"panel.details.nodes.mrtDestinationNumbers.displayName",tags:[]}},Kn=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{lineCode:c=W.lineCode,color:h=W.color,lines:d=W.lines,name:y=W.name,isTram:p=W.isTram}=l!=null?l:W,f=r.useCallback(B=>s(e,B),[e,s]),u=r.useCallback(B=>a(e,B),[e,a]),x=r.useCallback(B=>m(e,B),[e,m]),g=22.85,j=12.935,w=h[3],N=h[2];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{transform:"scale(1.8)",x:-22.85/2,y:-12.935/2,rx:"3",ry:"6",width:g,height:j,fill:N,stroke:"white",strokeWidth:"1"}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:w,fontSize:"15",dominantBaseline:"central",letterSpacing:"-0.2",children:c}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"left",x:"28",y:p?3.5:-3,fill:"black",fontSize:"10",letterSpacing:"-0.2",children:y}),!p&&d.split(",").map((B,_)=>n.jsx("g",{transform:"translate(".concat(34+14*_,", ").concat(4.5,")"),children:B.trim()!=="airport"?n.jsxs(n.Fragment,{children:[n.jsx("circle",{r:"6",fill:N}),n.jsx("text",{className:"rmp-name__mrt",textAnchor:"middle",fill:w,fontSize:"9",dominantBaseline:"central",letterSpacing:"-0.2",children:B})]}):n.jsxs("g",{transform:"translate(-6, -6) scale(4.5)",children:[n.jsx("path",{d:"M2.467 0H.226A.226.226 0 0 0 0 .226v2.241a.225.225 0 0 0 .226.225h2.241a.225.225 0 0 0 .225-.225V.226A.226.226 0 0 0 2.467 0",style:{fill:"#2d2a26"}}),n.jsx("path",{d:"M1.5.746v.3l.73.642a.08.08 0 0 1 .022.05v.12c0 .017-.012.025-.027.018L1.5 1.529l-.06.541.2.113a.03.03 0 0 1 .013.023V2.3a.01.01 0 0 1-.014.011l-.293-.091-.286.087a.01.01 0 0 1-.014-.007v-.09a.03.03 0 0 1 .013-.023l.2-.113-.059-.545-.724.348a.018.018 0 0 1-.028-.018v-.12a.07.07 0 0 1 .023-.05l.73-.642v-.3c0-.482.3-.482.3 0",style:{fill:"#fff",fillRule:"evenodd"}})]})},_))]})},W={lineCode:"EWL",name:"East-West Line",lines:"1, 2, 3, airport",isTram:!1,color:[S.Singapore,"ewl","#009739",L.white]},Yn=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.name,onChange:a=>{t.name=a,i(e,t)},minW:"full"},{type:"input",label:l("panel.details.stations.common.lineCode"),value:t.lineCode,onChange:a=>{t.lineCode=a,i(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.mrtLineBadge.isTram"),isChecked:t.isTram,onChange:a=>{t.isTram=a,i(e,t)},minW:"full",oneLine:!0},...t.isTram?[]:[{type:"input",label:l("panel.details.nodes.common.num"),value:t.lines,onChange:a=>{t.lines=a,i(e,t)},minW:"full"}],{type:"custom",label:l("color"),component:n.jsx(T,{type:b.MRTLineBadge,defaultTheme:W.color}),minW:"full"}];return n.jsx(k,{fields:s})},et=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"2",rx:"10",ry:"10",width:"20",height:"20"}),n.jsx("text",{x:"9",y:"17",fill:"white",fontSize:"14",children:"1"})]}),nt={component:Kn,icon:et,defaultAttrs:W,attrsComponent:Yn,metadata:{displayName:"panel.details.nodes.mrtLineBadge.displayName",tags:[]}},se=4,ue=7,ie=10,fe=5,tt=5,z=tt*Math.SQRT1_2,xe=.25,re=(z*Math.SQRT2-xe)/2*Math.SQRT2,ot=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=O.names,num:h=O.num,color:d=O.color,crosshatchPatternFill:y=O.crosshatchPatternFill}=l!=null?l:O,p=r.useRef(null),[f,u]=r.useState({height:10,width:12});r.useEffect(()=>u(p.current.getBBox()),[...c,u,p]);const x=r.useCallback(w=>s(e,w),[e,s]),g=r.useCallback(w=>a(e,w),[e,a]),j=r.useCallback(w=>m(e,w),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:x,onPointerMove:g,onPointerUp:j,style:{cursor:"move"},children:[n.jsxs("defs",{children:[n.jsxs("clipPath",{id:"jr_east_fill_pattern_clip_path",patternUnits:"userSpaceOnUse",children:[n.jsx("polygon",{points:"0,0 0,".concat(re," ").concat(re,",0")}),n.jsx("polygon",{points:"".concat(z,",").concat(z," ").concat(z-re,",").concat(z," ").concat(z,",").concat(z-re)})]}),n.jsxs("pattern",{id:"jr_east_".concat(e,"_fill_pattern_").concat(d[2]),width:z,height:z,patternUnits:"userSpaceOnUse",children:[n.jsx("rect",{width:z,height:z,fill:d[2]}),n.jsx("line",{x1:"0",y1:"0",x2:z,y2:z,stroke:"white",strokeWidth:xe,strokeOpacity:"33%",clipPath:"url(#jr_east_fill_pattern_clip_path)"}),n.jsx("line",{x1:z,y1:"0",x2:"0",y2:z,stroke:"white",strokeWidth:xe,strokeOpacity:"33%"})]})]}),n.jsx("rect",{fill:y?"url(#jr_east_".concat(e,"_fill_pattern_").concat(d[2],")"):d[2],x:"0",y:"-1",width:f.width+se+10,height:f.height+1,rx:"1",stroke:"black",strokeWidth:"0.25"}),n.jsx("circle",{r:se,cx:ue,cy:ie/2+1,stroke:"black",strokeWidth:"0.25",fill:d[3]}),n.jsx("text",{x:ue,y:ie/2+1.75,textAnchor:"middle",dominantBaseline:"middle",fill:d[3]==="#000"?"white":d[2],fontSize:h>9?7:8,className:"rmp-name__jreast_en",children:h}),n.jsx(me,{ref:p,text:c[0].split("\n"),x:ue+se+1,y:"-1",fill:d[3],fontSize:ie,lineHeight:ie,grow:"down",className:"rmp-name__jreast_ja"}),n.jsx(me,{text:c[1].split("\n"),textAnchor:"middle",dominantBaseline:"hanging",x:(f.width+se+10)/2,y:f.height+1,fontSize:fe,lineHeight:fe,baseOffset:0,grow:"down",className:"rmp-name__jreast_en"})]})},O={names:["山手線","Yamanote Line"],color:[S.Tokyo,"jy","#9ACD32",L.black],num:9,crosshatchPatternFill:!1},lt=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.num"),value:String(t.num),validator:a=>!Number.isNaN(a),onChange:a=>{t.num=Number(a),i(e,t)},minW:"full"},{type:"textarea",label:l("panel.details.nodes.common.nameJa"),value:t.names[0],onChange:a=>{t.names[0]=a,i(e,t)},minW:"full"},{type:"textarea",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:a=>{t.names[1]=a,i(e,t)},minW:"full"},{type:"switch",label:l("panel.details.nodes.jrEastLineBadge.crosshatchPatternFill"),oneLine:!0,isChecked:t.crosshatchPatternFill,onChange:a=>{t.crosshatchPatternFill=a,i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.JREastLineBadge,defaultTheme:O.color})}];return n.jsx(k,{fields:s})},at=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"1",y:"6",width:"22",height:"7"}),n.jsx("circle",{cx:"3.5",cy:"9.25",r:"2",fill:"white"}),n.jsx("text",{x:"3",y:"10.5",fontSize:"3",children:"9"}),n.jsx("text",{x:"6",y:"11.25",fontSize:"5",fill:"white",children:"山手線"}),n.jsx("text",{x:"1.5",y:"16",fontSize:"3",children:"Yamanote Line"})]}),st={component:ot,icon:at,defaultAttrs:O,attrsComponent:lt,metadata:{displayName:"panel.details.nodes.jrEastLineBadge.displayName",tags:[]}},it=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{num:c=Q.num,numEn:h=Q.numEn,color:d=Q.color,showText:y=Q.showText}=l!=null?l:Q,p=r.useCallback(B=>s(e,B),[e,s]),f=r.useCallback(B=>a(e,B),[e,a]),u=r.useCallback(B=>m(e,B),[e,m]),x=d[3],[g,j,w,N]=Number(c)>=10?[-2.4,0,10.25,20]:[0,4,10,22];return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:p,onPointerMove:f,onPointerUp:u,style:{cursor:"move"},children:[n.jsx("rect",{fill:d[2],x:"0",width:"20",height:"20",rx:"2",ry:"2"}),n.jsx("text",{className:"rmp-name__zh",textAnchor:"left",x:j,y:w,fill:x,fontSize:N,fontWeight:"bold",letterSpacing:g,dominantBaseline:"central",children:c}),y&&n.jsxs(n.Fragment,{children:[n.jsx("text",{className:"rmp-name__zh",x:"22",y:"10.5",fontSize:"13",children:"号线"}),n.jsxs("text",{className:"rmp-name__en",x:"22.5",y:"19.5",fontSize:"8",children:["Line ",h]})]})]})},Q={num:1,numEn:"1",showText:!0,color:[S.Qingdao,"qd1","#f7b000",L.white]},rt=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.num"),value:t.num.toString(),onChange:a=>{t.num=Number(a),t.numEn=a,i(e,t)}},{type:"input",label:l("panel.details.nodes.qingdaoMetroNumLineBadge.numEn"),value:t.numEn.toString(),onChange:a=>{t.numEn=a,i(e,t)}},{type:"switch",label:l("panel.details.nodes.qingdaoMetroNumLineBadge.showText"),isChecked:t.showText,oneLine:!0,onChange:a=>{t.showText=a,i(e,t)}},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.QingdaoMetroNumLineBadge,defaultTheme:Q.color})}];return n.jsx(k,{fields:s,minW:"full"})},ct=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",rx:"1",ry:"1",width:"10",height:"10"}),n.jsx("text",{x:"4",y:"15",fill:"white",fontSize:"12",children:"1"}),n.jsx("text",{x:"12",y:"11.5",fill:"black",fontSize:"6",children:"号线"}),n.jsx("text",{x:"12",y:"15.5",fill:"black",fontSize:"4",children:"Line1"})]}),dt={component:it,icon:ct,defaultAttrs:Q,attrsComponent:rt,metadata:{displayName:"panel.details.nodes.qingdaoMetroNumLineBadge.displayName",tags:[]}},mt=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{names:c=ce.names,color:h=ce.color}=l!=null?l:ce,d=r.useRef(null),[y,p]=r.useState({width:12});r.useEffect(()=>p(d.current.getBBox()),[...c,p,d]);const f=r.useCallback(g=>s(e,g),[e,s]),u=r.useCallback(g=>a(e,g),[e,a]),x=r.useCallback(g=>m(e,g),[e,m]);return n.jsxs("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),onPointerDown:f,onPointerMove:u,onPointerUp:x,style:{cursor:"move"},children:[n.jsx("rect",{rx:"2",ry:"2",fill:h[2],x:"0",width:y.width+7,height:"21"}),n.jsxs("g",{ref:d,children:[n.jsx("text",{className:"rmp-name__zh",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"3",fontSize:"8.63",fill:h[3],children:c[0]}),n.jsx("text",{className:"rmp-name__en",textAnchor:"middle",dominantBaseline:"hanging",x:(y.width+7)/2,y:"14",fontSize:"3.54",fill:h[3],children:c[1]})]})]})},ce={names:["广清城际","Guangzhou-Qingyuan Intercity"],color:[S.Guangzhou,"ir","#2559a8",L.white]},ht=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"input",label:l("panel.details.nodes.common.nameZh"),value:t.names[0],onChange:a=>{t.names[0]=a,i(e,t)},minW:"full"},{type:"input",label:l("panel.details.nodes.common.nameEn"),value:t.names[1],onChange:a=>{t.names[1]=a,i(e,t)},minW:"full"}];return n.jsx(k,{fields:s})},ut=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("rect",{fill:"currentColor",x:"2",y:"6",width:"20",height:"12"}),n.jsx("text",{x:"4.5",y:"11",fontSize:"4",fill:"white",children:"广清城际"}),n.jsx("text",{x:"3",y:"16",fontSize:"2",fill:"white",children:"Guangzhou-Qingyuan Intercity"})]}),xt={component:mt,icon:ut,defaultAttrs:ce,attrsComponent:ht,metadata:{displayName:"panel.details.nodes.guangdongIntercityRailwayLineBadge.displayName",tags:[]}},q=5,de="M0,0 L".concat(-5*2,",").concat(-5*2," L").concat(Math.SQRT2*q-2*q,",").concat(2*-5," L").concat(Math.SQRT2*q,",0 L").concat(Math.SQRT2*q-2*q,",").concat(2*q," L").concat(2*-5,",").concat(2*q," Z"),gt=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,{color:c=K.color,rotate:h=K.rotate,type:d=K.type}=l!=null?l:K,y=r.useCallback(u=>s(e,u),[e,s]),p=r.useCallback(u=>a(e,u),[e,a]),f=r.useCallback(u=>m(e,u),[e,m]);return n.jsx("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")rotate(").concat(h,")"),onPointerDown:y,onPointerMove:p,onPointerUp:f,style:{cursor:"move"},children:d==="continuation"?n.jsx("path",{id:"virtual_circle_".concat(e),fill:c[2],d:de}):d==="sandwich"?n.jsx("path",{transform:"scale(0.5)",id:"virtual_circle_".concat(e),stroke:"white",strokeWidth:"1",fill:c[2],d:de}):n.jsx("path",{transform:"scale(0.25)",id:"virtual_circle_".concat(e),fill:"white",d:de})})},K={color:[S.London,"thameslink","#d28db0",L.white],rotate:0,type:"continuation"},pt=o=>{const{id:e,attrs:t,handleAttrsUpdate:i}=o,{t:l}=M(),s=[{type:"select",label:l("panel.details.stations.common.rotate"),value:t.rotate,options:{0:"0",45:"45",90:"90",135:"135",180:"180",225:"225",270:"270",315:"315"},onChange:a=>{t.rotate=Number(a),i(e,t)},minW:"full"},{type:"select",label:l("panel.details.nodes.londonArrow.type"),value:t.type,options:{continuation:l("panel.details.nodes.londonArrow.continuation"),sandwich:l("panel.details.nodes.londonArrow.sandwich"),tube:l("panel.details.nodes.londonArrow.tube")},onChange:a=>{t.type=a,i(e,t)},minW:"full"},{type:"custom",label:l("color"),component:n.jsx(T,{type:b.LondonArrow,defaultTheme:K.color}),minW:"full"}];return n.jsx(k,{fields:s})},ft=n.jsx("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:n.jsx("path",{transform:"translate(14,12)scale(0.75)",fill:"currentColor",d:de})}),yt={component:gt,icon:ft,defaultAttrs:K,attrsComponent:pt,metadata:{displayName:"panel.details.nodes.londonArrow.displayName",tags:[]}},bt=o=>{const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,c=ze();l.content=c(l.contents);const h=he.component;return n.jsx(h,{id:e,x:t,y:i,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m,attrs:l})},jt={contents:{},...Ae},wt={component:bt,icon:he.icon,defaultAttrs:jt,attrsComponent:he.attrsComponent,metadata:{displayName:"panel.details.nodes.i18nText.displayName",tags:[]}},Nt=o=>{var w;const{id:e,x:t,y:i,attrs:l,handlePointerDown:s,handlePointerMove:a,handlePointerUp:m}=o,c=r.useCallback(N=>s(e,N),[e,s]),h=r.useCallback(N=>a(e,N),[e,a]),d=r.useCallback(N=>m(e,N),[e,m]),y=(N,...B)=>new Function(...B,"return ".concat(N)),p=(N,B,_)=>{var P;const C={};for(const A in N)if(Object.prototype.hasOwnProperty.call(N,A))try{C[A]=y(N[A].slice(1),...l.components.map(v=>v.label),"color")(...B.map((v,ee)=>_[ee]==="number"&&!Number.isNaN(Number(v))?Number(v):v),l.color?(P=l.color.value)!=null?P:l.color.defaultValue:"")}catch(v){C[A]=""}return C},f=l.nodeType==="MiscNode"?{onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},u=N=>N.replace(/(^|,)\s*([^{},]+)/g,"$1 #".concat(e," $2")),x=N=>N.map(B=>{var P,A;const _=l.nodeType==="Station"&&l.core&&l.core===B.id?{id:"stn_core_".concat(e),onPointerDown:c,onPointerMove:h,onPointerUp:d,style:{cursor:"move"}}:{},C=p(B.attrs,l.components.map(v=>v.value),l.components.map(v=>v.type));return n.jsx("g",{transform:"translate(".concat((P=C.x)!=null?P:0,", ").concat((A=C.y)!=null?A:0,")"),children:r.createElement(B.type,{...C,x:0,y:0,..._},B.children?x(B.children):"_rmp_children_text"in C?B.type==="style"?u(C._rmp_children_text):C._rmp_children_text:null)},B.id)}),g=(w=l.transform)!=null?w:ye,j=r.useMemo(()=>x(l.svgs),[l]);return r.createElement("g",{id:e,transform:"translate(".concat(t,", ").concat(i,")"),...f},l.randomId?n.jsx("g",{transform:"translate(".concat(g.translateX,", ").concat(g.translateY,") scale(").concat(g.scale,") rotate(").concat(g.rotate,")"),children:j}):n.jsxs("g",{children:[n.jsx("circle",{r:"5.5"}),n.jsx("g",{transform:"translate(-4.7, -5) scale(0.8)",children:n.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"white"})})]}))},Bt={randomId:void 0,label:void 0,transform:ye,nodeType:"MiscNode",svgs:[],components:[]},Ct=o=>{var j,w,N,B,_;const{id:e,attrs:t,handleAttrsUpdate:i}=o,l=be(),{paletteAppClip:{output:s}}=je(C=>C.runtime),{t:a}=M(),[m,c]=r.useState(!1),[h,d]=r.useState(!1),y=C=>{var A;const P=t.components.find(v=>v.id===C);return P?(A=P.value)!=null?A:P.defaultValue:void 0},p=C=>{C.components.forEach((P,A)=>{var v;C.components[A].value=(v=y(P.id))!=null?v:P.defaultValue}),C.color!==void 0&&(C.color.value=t.color?t.color.value:C.color.defaultValue),i(e,C)},f=t.components.map((C,P)=>{const{label:A,type:v,defaultValue:ee,value:E}=C;return v==="number"||v==="text"?{label:a(A),type:"input",value:E!=null?E:ee,onChange:ne=>{t.components[P].value=ne,i(e,{...t,components:t.components})}}:v==="switch"?{label:a(A),type:"switch",isChecked:E!==void 0?!!E:ee,onChange:ne=>{t.components[P].value=ne,i(e,{...t,components:t.components})}}:v==="textarea"?{label:a(A),type:"textarea",value:E!=null?E:ee,onChange:ne=>{t.components[P].value=ne,i(e,{...t,components:t.components})}}:{type:"input",label:"undefined",value:"none"}}),[u,x]=r.useState(!1);r.useEffect(()=>{t.color&&u&&s&&(t.color.value=s,i(e,{...t,color:t.color}),x(!1))},[s==null?void 0:s.toString()]);const g=[{type:"custom",label:a("color"),component:n.jsx(we,{theme:(j=t.color)==null?void 0:j.value,onClick:()=>{var C;x(!0),l(Ne((C=t.color)==null?void 0:C.value))}})}];return n.jsxs(n.Fragment,{children:[n.jsxs(pe,{direction:"row",mr:"auto",width:"100%",children:[n.jsx(Be,{width:"100%",overflow:"hidden",label:a("panel.details.nodes.master.type"),children:n.jsxs(pe,{width:"100%",overflow:"hidden",children:[n.jsx(ge,{name:(w=t.label)!=null?w:a("panel.details.nodes.master.undefined"),fg:(N=t.labelColorFg)!=null?N:L.white,bg:(B=t.labelColorBg)!=null?B:"#000000",sx:{display:"inline-block",overflow:"hidden",textOverflow:"ellipsis"},mr:1}),n.jsx(ge,{name:(_=t.randomId)!=null?_:"UNDEFINED",fg:L.white,bg:t.randomId?"#19B3EA":"#000000",sx:{display:"inline-block"},mr:1})]})}),n.jsx(ve,{}),n.jsx(Se,{icon:n.jsx(Ce,{}),onClick:()=>c(!0),"aria-label":"upload"})]}),n.jsx(Te,{width:"100%",leftIcon:n.jsx(Le,{}),onClick:()=>d(!0),children:a("header.settings.procedures.masterManager.title")}),t.randomId&&n.jsx(k,{fields:f,minW:"full"}),t.randomId&&t.color!==void 0&&n.jsx(k,{fields:g,minW:"full"}),n.jsx(ke,{isOpen:m,onClose:()=>c(!1),onSubmit:p}),n.jsx(Me,{isOpen:h,onClose:()=>d(!1)})]})},Lt=n.jsxs("svg",{viewBox:"0 0 24 24",height:40,width:40,focusable:!1,children:[n.jsx("circle",{cx:"12",cy:"12",r:"6",stroke:"currentColor",fill:"none"}),n.jsx("g",{transform:"translate(7.25, 7) scale(0.8)",children:n.jsx("polygon",{points:"6,1 7.5,4.25 11,4.65 8.5,7.1 9.2,10.75 6,9 2.8,10.75 3.5,7.1 1,4.65 4.5,4.25",fill:"currentColor"})})]}),vt={component:Nt,icon:Lt,defaultAttrs:Bt,attrsComponent:Ct,metadata:{displayName:"panel.details.nodes.master.displayName",tags:[]}},zt={[b.Virtual]:Ie,[b.ShmetroNumLineBadge]:Oe,[b.ShmetroTextLineBadge]:Ge,[b.GzmtrLineBadge]:Ke,[b.BjsubwayNumLineBadge]:on,[b.BjsubwayTextLineBadge]:dn,[b.SuzhouRTNumLineBadge]:gn,[b.BerlinSBahnLineBadge]:Ln,[b.BerlinUBahnLineBadge]:jn,[b.ChongqingRTNumLineBadge]:An,[b.ChongqingRTTextLineBadge]:_n,[b.ChongqingRTNumLineBadge2021]:In,[b.ChongqingRTTextLineBadge2021]:Fn,[b.ShenzhenMetroNumLineBadge]:Xn,[b.MRTDestinationNumbers]:Jn,[b.MRTLineBadge]:nt,[b.JREastLineBadge]:st,[b.QingdaoMetroNumLineBadge]:dt,[b.GuangdongIntercityRailwayLineBadge]:xt,[b.LondonArrow]:yt,[b.Facilities]:Re,[b.Text]:he,[b.I18nText]:wt,[b.Master]:vt};export{zt as m};
